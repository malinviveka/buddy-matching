{% extends 'helloapp/base.html' %}

{% load static i18n %}

{% block title %}Homepage{% endblock %}

{% block content %}
    <script src="{% static 'helloapp/main.js' %}" defer></script> <!-- Link to compiled JavaScript -->

    <div class="homepage-header">
        <img src="{% static 'images/no_background_iss_logo.png' %}" alt="Logo" class="iss_logo">
        <h1>ISS Buddy Program</h1>
    </div>

    <p>{% trans "Hello, world!" %}</p>
    <!-- Das folgende ist nur zum testen, damit man beim nachvollziehen kann, als was man gerade angemeldet ist, aber eigtl ist das doch ne ganz coole Idee, das man namentlich begrüßt wird, oder?-->
    {% if user.is_authenticated %}
    <p>{% trans "Your Name is:" %}{{ user.first_name }}!</p>
    <p>{% trans "Your Email is:" %}{{ user.email }}!</p>
    {% endif %}
    <!-- Das folgende ist dynamisch anpassbarer Text, wie gefordert. (man kann ihn, wenn man als staff angemeldet ist unter admin user management verändern) Man kann das theoretisch natürlich noch erweitern, um auch Titel uns sowas zu verändern, aber das hier soll erstmal so ein proof of concept sein^^-->
    <p>{{ homepage_text.content }}</p>

    <div class="account-deletion-warning">
        {% if user.is_authenticated and days_left is not None and days_left <= 30 %}
            <p>{% trans "Your account will be deleted in" %} {{ days_left }} {% trans "days." %}</p>
            
            <form action="{% url 'reset_deletion_date' %}" method="post">
                {% csrf_token %}
                <button type="submit">{% trans "Extend account for another year" %}</button>
            </form>
            
        {% endif %}
    </div>    
    
{% endblock %}
